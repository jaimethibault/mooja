<%# simple_form_for [@surfcamp, @booking, @occupancy_] do |f| %>
  <%# f.input :starts_at, as: :string, placeholder: "02/09/2017", class: "col-xs-6", input_html: {class: 'datepicker'},label: "Check in" %>
  <%# f.input :ends_at, as: :string, placeholder: "12/09/2017", class: "col-xs-6", input_html: {class: 'datepicker'}, label: "Check out"  %>
  <%# f.label "Dormitory" %>
  <%# f.input :occupancy.pax_nb, placeholder: "1" %>
  <%# f.label "Private Room" %>
  <%# f.input :occupancy.pax_nb, placeholder: "1" %>
  <%# f.label "Price per Day: **TBD**" %>
  <%# f.submit "Book it!", class: "btn btn-danger btn-block" %>
<%# end %>

<%= form_tag surfcamp_bookings_path(@surfcamp) do %>
  <%= label_tag 'booking[starts_at]', 'Checkin' %>
  <%= text_field_tag 'booking[starts_at]', nil, class: "datepicker", placeholder: "02/09/2017" %>
  <%= label_tag 'booking[ends_at]', 'Checkout' %>
  <%= text_field_tag 'booking[ends_at]', nil, class: "datepicker", placeholder: "10/09/2017" %>

  <!-- Iterate for all surfcamp's rooms -->
  <% @surfcamp.rooms.each do |room| %>
    <!-- Calculated the occupancy for each room -->
    <%= label_tag 'occupancy[pax_nb]', room.category.capitalize + " - flat price: " + room.price_per_night.to_s + " €" %>
    <%= number_field_tag 'occupancy[pax_nb]', '0' %>
    <%= hidden_field_tag 'occupancy[room_id]', room.id %>
<!--     <label for="<%= room.id %>"><%= room.category.capitalize + " - flat price: " + room.price_per_night.to_s + " €" %></label>
    <input type="number" name="occupancy[<%= room.id %>]" id="<%= room.id %>" value="0">
    <input type="hidden" name="occupancy[room_id]" id="occupancy_room_id" value="<%= room.id %>"> -->
  <% end %>

  <!-- Added some hidden field to get booking -->
  <%= hidden_field_tag 'booking[user_id]', current_user.id %>
  <%= hidden_field_tag 'booking[status]', 'unpaid' %>

  <p>Total price = to do</p>
  <%= @occupancy.price %>

  <%= submit_tag "Book now", class: "btn btn-danger", style: "width: 100%" %>
<% end %>


<!-- <div class="booking_form">
    <form action="#" >
      <div class="form-group">
        <div class="row">
          <div class="col-xs-6">
            <input type="text" class="form-control" placeholder="Check in" id="checkin">
          </div>
          <div class="col-xs-6">
            <input type="text" class="form-control" placeholder="Check out">
          </div>
        </div>
      </div>
      <div class="form-group">
        <select name="" id="guests" class="form-control">
          <option value="dormirory">Dormitory</option>
          <option value="single bedroom">Private Room</option>
        </select>
      </div>
      <div class="form-group">
        <select name="" id="guests" class="form-control">
          <option value="1">1</option>
          <option value="2">2</option>
        </select>
      </div>
      <input type="submit" class="btn btn-danger" value="Book it" style="width: 100%">
    </form>
  </div> -->

<% content_for(:after_js) do %>
  <%= javascript_tag do %>
    $(".datepicker").datepicker({
    format: 'dd/mm/yyyy',
    startDate: '-1d'
    });
  <% end %>
<% end %>
